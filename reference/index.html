
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../how-to/contributing/">
      
      
        <link rel="next" href="../changelog/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.18">
    
    
      
        <title>API - Qonscious</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.7e37652d.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#api-reference" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Qonscious" class="md-header__button md-logo" aria-label="Qonscious" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Qonscious
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              API
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/lifia-unlp/qonscious" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Qonscious" class="md-nav__button md-logo" aria-label="Qonscious" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Qonscious
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/lifia-unlp/qonscious" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Tutorials
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorials/understanding-run-conditionally/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    run_conditionally
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorials/qonscious-notebooks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    notebooks
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    How-to
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            How-to
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../how-to/contributing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contribute
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    API
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    API
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#adapters" class="md-nav__link">
    <span class="md-ellipsis">
      Adapters
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Adapters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#qonscious.adapters.backend_adapter.BackendAdapter" class="md-nav__link">
    <span class="md-ellipsis">
      BackendAdapter
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#figures-of-merit" class="md-nav__link">
    <span class="md-ellipsis">
      Figures of merit
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Figures of merit">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#qonscious.foms.aggregate_qpu_fom.AggregateQPUFigureOfMerit" class="md-nav__link">
    <span class="md-ellipsis">
      AggregateQPUFigureOfMerit
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#qonscious.foms.packed_chsh.PackedCHSHTest" class="md-nav__link">
    <span class="md-ellipsis">
      PackedCHSHTest
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#merit-checks" class="md-nav__link">
    <span class="md-ellipsis">
      Merit checks
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Merit checks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#qonscious.checks.merit_compliance_check.MeritComplianceCheck" class="md-nav__link">
    <span class="md-ellipsis">
      MeritComplianceCheck
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conditionally-running-circuits" class="md-nav__link">
    <span class="md-ellipsis">
      Conditionally running circuits
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Conditionally running circuits">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#qonscious.actions.qonscious_circuit.QonsciousCircuit" class="md-nav__link">
    <span class="md-ellipsis">
      QonsciousCircuit
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#qonscious.actions.qonscious_callable.QonsciousCallable" class="md-nav__link">
    <span class="md-ellipsis">
      QonsciousCallable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#qonscious.run_conditionally.run_conditionally" class="md-nav__link">
    <span class="md-ellipsis">
      run_conditionally
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Changelog
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#adapters" class="md-nav__link">
    <span class="md-ellipsis">
      Adapters
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Adapters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#qonscious.adapters.backend_adapter.BackendAdapter" class="md-nav__link">
    <span class="md-ellipsis">
      BackendAdapter
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#figures-of-merit" class="md-nav__link">
    <span class="md-ellipsis">
      Figures of merit
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Figures of merit">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#qonscious.foms.aggregate_qpu_fom.AggregateQPUFigureOfMerit" class="md-nav__link">
    <span class="md-ellipsis">
      AggregateQPUFigureOfMerit
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#qonscious.foms.packed_chsh.PackedCHSHTest" class="md-nav__link">
    <span class="md-ellipsis">
      PackedCHSHTest
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#merit-checks" class="md-nav__link">
    <span class="md-ellipsis">
      Merit checks
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Merit checks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#qonscious.checks.merit_compliance_check.MeritComplianceCheck" class="md-nav__link">
    <span class="md-ellipsis">
      MeritComplianceCheck
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conditionally-running-circuits" class="md-nav__link">
    <span class="md-ellipsis">
      Conditionally running circuits
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Conditionally running circuits">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#qonscious.actions.qonscious_circuit.QonsciousCircuit" class="md-nav__link">
    <span class="md-ellipsis">
      QonsciousCircuit
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#qonscious.actions.qonscious_callable.QonsciousCallable" class="md-nav__link">
    <span class="md-ellipsis">
      QonsciousCallable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#qonscious.run_conditionally.run_conditionally" class="md-nav__link">
    <span class="md-ellipsis">
      run_conditionally
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="api-reference">API Reference</h1>
<p>Qonscious combines backend adapters, figures of merits, merit compliance checks, and actions to abstract what it means to perform resource aware conditional quantum computation in the NISQ era.</p>
<h2 id="adapters">Adapters</h2>
<p>A BackendAdapter is the abstraction layer in Qonscious that standardizes access to quantum backends, whether they are real devices, cloud simulators, or local emulators. It exposes a uniform interface for executing quantum circuits and retrieving results in a consistent format, including counts, backend characteristics, and execution metadata. This allows Qonscious to remain agnostic to the specifics of backend APIs (such as IBM Sampler or Aer), while still supporting resource introspection, circuit execution, measurement, and runtime resource checks. Developers are free to implement custom adapters to integrate other platforms.</p>
<p>You can create an adapter on Qiskit's SamplerV2 as follows:</p>
<pre><code class="language-Python">from qonscious.adapters import AerSamplerAdapter
backend = AerSamplerAdapter()
</code></pre>
<p>You can create an adapter to work with one of IBM's fake (simulated computers) as follows:</p>
<pre><code class="language-Python">from qiskit_ibm_runtime.fake_provider import FakeManilaV2
from qonscious.adapters import IBMSamplerAdapter
adapter = IBMSamplerAdapter(FakeManilaV2()) # edit as needed
</code></pre>
<p>You can create an adapter on IBM's least bussy (real) quantum computer as follows:</p>
<pre><code class="language-Python">import os
from qonscious.adapters import IBMSamplerAdapter
ibm_token = os.getenv(&quot;IBM_QUANTUM_TOKEN&quot;) # edit as needed
adapter = IBMSamplerAdapter.least_busy_backend(ibm_token)
</code></pre>
<p>You can even create an adapter on IonQ's QPU. This example shows how to work with
the simulator of Aria-1 (including its noise model).</p>
<pre><code class="language-Python">import os
from qonscious.adapters import IonQBackendAdapter
api_key = os.getenv(&quot;IONQ_API_KEY&quot;)
adapter = IonQBackendAdapter.simulated_aria(api_key)
</code></pre>


<div class="doc doc-object doc-module">




    <div class="doc doc-contents first">










  <div class="doc doc-children">









<div class="doc doc-object doc-class">



<h3 id="qonscious.adapters.backend_adapter.BackendAdapter" class="doc doc-heading">
            <code>BackendAdapter</code>


</h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="typing.Protocol">Protocol</span></code></p>









              <details class="quote">
                <summary>Source code in <code>src/qonscious/adapters/backend_adapter.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">BackendAdapter</span><span class="p">(</span><span class="n">Protocol</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">circuit</span><span class="p">:</span> <span class="n">QuantumCircuit</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ExperimentResult</span><span class="p">:</span> <span class="o">...</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">n_qubits</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            int: The number of qubits of the backend.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="o">...</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">t1s</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            dict[int, float]: The T1 (relaxation time) for each qubit.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="o">...</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">t2s</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            dict[int, float]: The T2 (dephasing time) for each qubit.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="o">...</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="qonscious.adapters.backend_adapter.BackendAdapter.n_qubits" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">n_qubits</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">



    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>int</code></td>            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of qubits of the backend.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="qonscious.adapters.backend_adapter.BackendAdapter.t1s" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">t1s</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">



    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="dict">dict</span>[<span title="int">int</span>, <span title="float">float</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>dict[int, float]: The T1 (relaxation time) for each qubit.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="qonscious.adapters.backend_adapter.BackendAdapter.t2s" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">t2s</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">



    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="dict">dict</span>[<span title="int">int</span>, <span title="float">float</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>dict[int, float]: The T2 (dephasing time) for each qubit.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>






  </div>

    </div>

</div>




  </div>

    </div>

</div><h2 id="figures-of-merit">Figures of merit</h2>
<p>A Figure of Merit in Qonscious represents a measurable property of a quantum backend (device or simulator) that is relevant to the quality or feasibility of circuit execution. Examples include physical metrics such as average T‚ÇÅ time, CHSH score, or backend connectivity, as well as derived quantities like estimated circuit error after transpilation. When a figure of merit is evaluated, it produces a structured object called a Figure of Merit Result, which contains the computed value (or outcome), relevant metadata (such as backend name, timestamps, or raw introspection data), and any additional fields needed to interpret the result. These results are in merit checks to determine whether the backend conditions meet the criteria required for executing a quantum task.</p>
<p>You can use Figures of Merit as stand-alone objects, to analyse a backend but you normally used them in merit checks of the run_conditional() function.</p>
<p>You can get an aggregate figure of merit (T1, T2, numer of qubits, etc) of IBM's least bussy computer as follows:</p>
<pre><code class="language-Python">import os
from qonscious.adapters import IBMSamplerAdapter
from qonscious.foms.aggregate_qpu_fom import AggregateQPUFigureOfMerit

ibm_token = os.getenv(&quot;IBM_QUANTUM_TOKEN&quot;)
adapter = IBMSamplerAdapter.least_busy_backend(ibm_token)
agg_fom = AggregateQPUFigureOfMerit()
agg_fom.evaluate(adapter)
</code></pre>
<p>You can see what the CHSH (a figure of merit) looks like in IBM's FakeKawasaki() as follows. Pay attention to the properties attribute of the result object.</p>
<pre><code class="language-Python">from qiskit_ibm_runtime.fake_provider import FakeKawasaki
from qonscious.adapters import IBMSamplerAdapter
from qonscious.foms import PackedCHSHTest

adapter = IBMSamplerAdapter(FakeKawasaki())
chsh_test = PackedCHSHTest()
chsh_test.evaluate(adapter)
</code></pre>


<div class="doc doc-object doc-module">




    <div class="doc doc-contents first">










  <div class="doc doc-children">









<div class="doc doc-object doc-class">



<h3 id="qonscious.foms.aggregate_qpu_fom.AggregateQPUFigureOfMerit" class="doc doc-heading">
            <code>AggregateQPUFigureOfMerit</code>


</h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="qonscious.foms.figure_of_merit.FigureOfMerit">FigureOfMerit</span></code></p>


        <p>I aggregate various properties common to all backends in a single FOM.
I aggregate: n_qubits, T1 average, T2 average, ...
For multivalued figures such as T1, I provide a dict with  descriptive statistics</p>








              <details class="quote">
                <summary>Source code in <code>src/qonscious/foms/aggregate_qpu_fom.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">AggregateQPUFigureOfMerit</span><span class="p">(</span><span class="n">FigureOfMerit</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    I aggregate various properties common to all backends in a single FOM.</span>
<span class="sd">    I aggregate: n_qubits, T1 average, T2 average, ...</span>
<span class="sd">    For multivalued figures such as T1, I provide a dict with  descriptive statistics</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">evaluate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">backend_adapter</span><span class="p">:</span> <span class="n">BackendAdapter</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FigureOfMeritResult</span><span class="p">:</span>
        <span class="n">result</span><span class="p">:</span> <span class="n">FigureOfMeritResult</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span><span class="o">.</span><span class="n">isoformat</span><span class="p">(),</span>
            <span class="s2">&quot;figure_of_merit&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;n_qubits&quot;</span><span class="p">:</span> <span class="n">backend_adapter</span><span class="o">.</span><span class="n">n_qubits</span><span class="p">,</span>
                <span class="s2">&quot;T1&quot;</span><span class="p">:</span> <span class="n">describe</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">backend_adapter</span><span class="o">.</span><span class="n">t1s</span><span class="o">.</span><span class="n">values</span><span class="p">()),</span> <span class="s2">&quot;cap&quot;</span><span class="p">,</span> <span class="n">cap_value</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
                <span class="s2">&quot;T2&quot;</span><span class="p">:</span> <span class="n">describe</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">backend_adapter</span><span class="o">.</span><span class="n">t2s</span><span class="o">.</span><span class="n">values</span><span class="p">()),</span> <span class="s2">&quot;cap&quot;</span><span class="p">,</span> <span class="n">cap_value</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
            <span class="p">},</span>
            <span class="s2">&quot;experiment_result&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">




    <div class="doc doc-contents first">










  <div class="doc doc-children">









<div class="doc doc-object doc-class">



<h3 id="qonscious.foms.packed_chsh.PackedCHSHTest" class="doc doc-heading">
            <code>PackedCHSHTest</code>


</h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="qonscious.foms.figure_of_merit.FigureOfMerit">FigureOfMerit</span></code></p>


        <p>I represent a CHSH test, run on 8 qubits (the four Bell pairs), in parallel.</p>








              <details class="quote">
                <summary>Source code in <code>src/qonscious/foms/packed_chsh.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">PackedCHSHTest</span><span class="p">(</span><span class="n">FigureOfMerit</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    I represent a CHSH test, run on 8 qubits (the four Bell pairs), in parallel.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">evaluate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">backend_adapter</span><span class="p">:</span> <span class="n">BackendAdapter</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FigureOfMeritResult</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            a FigureOfMeritResult with the following properties:</span>
<span class="sd">                figure_of_merit: &quot;PackedCHSHTest&quot; (a str).</span>
<span class="sd">                properties: a dict with keys &quot;E00&quot;, &quot;E01&quot;, &quot;E10&quot;, &quot;E11&quot;, representing the individual</span>
<span class="sd">                counts of each observed pait, and &quot;score&quot;, computed as E00 + E01 + E10 - E11.</span>
<span class="sd">                experiment_result: an instance of ExperimentResult; the result of the experiment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">qc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_build_circuit</span><span class="p">()</span>
        <span class="n">run_result</span><span class="p">:</span> <span class="n">ExperimentResult</span> <span class="o">=</span> <span class="n">backend_adapter</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">qc</span><span class="p">,</span> <span class="n">shots</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;shots&quot;</span><span class="p">,</span> <span class="mi">1024</span><span class="p">))</span>
        <span class="n">CHSH_Scores</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="n">compute_parallel_CHSH_scores</span><span class="p">(</span><span class="n">run_result</span><span class="p">[</span><span class="s2">&quot;counts&quot;</span><span class="p">])</span>
        <span class="n">evaluation_result</span><span class="p">:</span> <span class="n">FigureOfMeritResult</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span><span class="o">.</span><span class="n">isoformat</span><span class="p">(),</span>
            <span class="s2">&quot;figure_of_merit&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="n">CHSH_Scores</span><span class="p">,</span>
            <span class="s2">&quot;experiment_result&quot;</span><span class="p">:</span> <span class="n">run_result</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">evaluation_result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_build_circuit</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">QuantumCircuit</span><span class="p">:</span>
        <span class="n">qc</span> <span class="o">=</span> <span class="n">QuantumCircuit</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
            <span class="n">qc</span><span class="o">.</span><span class="n">h</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="n">qc</span><span class="o">.</span><span class="n">cx</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>

        <span class="c1"># Measurement settings</span>
        <span class="n">qc</span><span class="o">.</span><span class="n">ry</span><span class="p">(</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">qc</span><span class="o">.</span><span class="n">ry</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="n">qc</span><span class="o">.</span><span class="n">ry</span><span class="p">(</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
        <span class="n">qc</span><span class="o">.</span><span class="n">ry</span><span class="p">(</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
        <span class="n">qc</span><span class="o">.</span><span class="n">ry</span><span class="p">(</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
        <span class="n">qc</span><span class="o">.</span><span class="n">ry</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>

        <span class="n">qc</span><span class="o">.</span><span class="n">measure</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">qc</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h4 id="qonscious.foms.packed_chsh.PackedCHSHTest.evaluate" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">evaluate</span><span class="p">(</span><span class="n">backend_adapter</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">



    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="qonscious.results.result_types.FigureOfMeritResult">FigureOfMeritResult</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a FigureOfMeritResult with the following properties:
figure_of_merit: "PackedCHSHTest" (a str).
properties: a dict with keys "E00", "E01", "E10", "E11", representing the individual
counts of each observed pait, and "score", computed as E00 + E01 + E10 - E11.
experiment_result: an instance of ExperimentResult; the result of the experiment.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/qonscious/foms/packed_chsh.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">evaluate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">backend_adapter</span><span class="p">:</span> <span class="n">BackendAdapter</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FigureOfMeritResult</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns:</span>
<span class="sd">        a FigureOfMeritResult with the following properties:</span>
<span class="sd">            figure_of_merit: &quot;PackedCHSHTest&quot; (a str).</span>
<span class="sd">            properties: a dict with keys &quot;E00&quot;, &quot;E01&quot;, &quot;E10&quot;, &quot;E11&quot;, representing the individual</span>
<span class="sd">            counts of each observed pait, and &quot;score&quot;, computed as E00 + E01 + E10 - E11.</span>
<span class="sd">            experiment_result: an instance of ExperimentResult; the result of the experiment.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">qc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_build_circuit</span><span class="p">()</span>
    <span class="n">run_result</span><span class="p">:</span> <span class="n">ExperimentResult</span> <span class="o">=</span> <span class="n">backend_adapter</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">qc</span><span class="p">,</span> <span class="n">shots</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;shots&quot;</span><span class="p">,</span> <span class="mi">1024</span><span class="p">))</span>
    <span class="n">CHSH_Scores</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="n">compute_parallel_CHSH_scores</span><span class="p">(</span><span class="n">run_result</span><span class="p">[</span><span class="s2">&quot;counts&quot;</span><span class="p">])</span>
    <span class="n">evaluation_result</span><span class="p">:</span> <span class="n">FigureOfMeritResult</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span><span class="o">.</span><span class="n">isoformat</span><span class="p">(),</span>
        <span class="s2">&quot;figure_of_merit&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
        <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="n">CHSH_Scores</span><span class="p">,</span>
        <span class="s2">&quot;experiment_result&quot;</span><span class="p">:</span> <span class="n">run_result</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">evaluation_result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div><h2 id="merit-checks">Merit checks</h2>
<p>You use figures of merit to evaluate whether a quantum computer meets the requirements of your experiment. A merit check consists of computing a figure of merit on a given backend and then deciding, based on the result, whether the device passes or fails your criteria.</p>
<p>The current mechanism for performing such a check is the MeritComplianceCheck, which takes two components:</p>
<ul>
<li>a FigureOfMerit that defines what to measure, and</li>
<li>a decision function that receives the result of the measurement and returns True (pass) or False (fail).</li>
</ul>
<p>For example, the following code checks whether IBM‚Äôs FakeKawasaki simulator is capable of producing a level of entanglement high enough to yield a CHSH score greater than 2.7 (run it a few times; 2.7 is in the limit of that fake computer)</p>
<pre><code class="language-Python">from qiskit_ibm_runtime.fake_provider import FakeKawasaki

from qonscious.adapters import IBMSamplerAdapter
from qonscious.checks import MeritComplianceCheck
from qonscious.foms import PackedCHSHTest

adapter = IBMSamplerAdapter(FakeKawasaki())

# Build the compliance check using a PackedCHSHTest and the score-checking function (a lambda in this case)
chsh_compliance = MeritComplianceCheck(
    figure_of_merit=PackedCHSHTest(),
    decision_function=lambda chsh_result: chsh_result is not None and
        chsh_result[&quot;properties&quot;][&quot;score&quot;] &gt; 2.7,
)

chsh_compliance.check(adapter)
</code></pre>
<p>This approach lets you define flexible and reusable checks based on any figure of merit supported by Qonscious; not just CHSH, but also qubit count, coherence time, circuit error estimates, or even custom benchmarks.</p>


<div class="doc doc-object doc-module">




    <div class="doc doc-contents first">










  <div class="doc doc-children">









<div class="doc doc-object doc-class">



<h3 id="qonscious.checks.merit_compliance_check.MeritComplianceCheck" class="doc doc-heading">
            <code>MeritComplianceCheck</code>


</h3>


    <div class="doc doc-contents ">


        <p>A flexible compliance check based on an optional Figure of Merit
and a custom decision function that maps its result to a boolean.</p>








              <details class="quote">
                <summary>Source code in <code>src/qonscious/checks/merit_compliance_check.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">MeritComplianceCheck</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A flexible compliance check based on an optional Figure of Merit</span>
<span class="sd">    and a custom decision function that maps its result to a boolean.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">figure_of_merit</span><span class="p">:</span> <span class="n">FigureOfMerit</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">decision_function</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">FigureOfMeritResult</span> <span class="o">|</span> <span class="kc">None</span><span class="p">],</span> <span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">_</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figure_of_merit</span> <span class="o">=</span> <span class="n">figure_of_merit</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">decision_function</span> <span class="o">=</span> <span class="n">decision_function</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">check</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">backend_adapter</span><span class="p">:</span> <span class="n">BackendAdapter</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Evaluate the FOM if present, apply the decision function to its result,</span>
<span class="sd">        and return a dict with the compliance outcome and the FOM result (if any).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">fom_result</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">figure_of_merit</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">fom_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">figure_of_merit</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="n">backend_adapter</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="n">passed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">decision_function</span><span class="p">(</span><span class="n">fom_result</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;passed&quot;</span><span class="p">:</span> <span class="n">passed</span><span class="p">,</span> <span class="s2">&quot;fom_result&quot;</span><span class="p">:</span> <span class="n">fom_result</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h4 id="qonscious.checks.merit_compliance_check.MeritComplianceCheck.check" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">check</span><span class="p">(</span><span class="n">backend_adapter</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Evaluate the FOM if present, apply the decision function to its result,
and return a dict with the compliance outcome and the FOM result (if any).</p>


            <details class="quote">
              <summary>Source code in <code>src/qonscious/checks/merit_compliance_check.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">check</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">backend_adapter</span><span class="p">:</span> <span class="n">BackendAdapter</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Evaluate the FOM if present, apply the decision function to its result,</span>
<span class="sd">    and return a dict with the compliance outcome and the FOM result (if any).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">fom_result</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">figure_of_merit</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">fom_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">figure_of_merit</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="n">backend_adapter</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="n">passed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">decision_function</span><span class="p">(</span><span class="n">fom_result</span><span class="p">)</span>

    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;passed&quot;</span><span class="p">:</span> <span class="n">passed</span><span class="p">,</span> <span class="s2">&quot;fom_result&quot;</span><span class="p">:</span> <span class="n">fom_result</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div><h2 id="conditionally-running-circuits">Conditionally running circuits</h2>
<p>You use Qoncsious to conditionaly (being aware of the resources on your computing platform) perform actions. This could be running a quantum circuit, reporting results, or running any arbitrary function. We call these actions, qonscious actions. A QonsciousAction is objects that implement the <code>run()</code> method, which receives a backend adapter, the results of figure-of-merit evaluations, and optional keyword arguments. The method returns either an ExperimentResult or None.</p>
<p>This example shows how to use a QonsciousCircuit object, to run a simple quantum circuit. It basically does nothing with the figures of merit it receives (they are important in other scenarios), therefore we send an empty list.</p>
<p>The result is a QonsciousResult object, that provides a uniform way to access the bistrings counts, execution stats, the raw results returned by the real backend. </p>
<pre><code class="language-Python">from qiskit import QuantumCircuit

from qonscious.actions import QonsciousCircuit
from qonscious.adapters import IBMSamplerAdapter

# A simple Bell state
phi_plus = QuantumCircuit(2)
phi_plus.h(0)
phi_plus.cx(0, 1)
phi_plus.measure_all()

q_action = QonsciousCircuit(phi_plus)
adapter = IBMSamplerAdapter(FakeKawasaki())
q_result = q_action.run(adapter,[],shots=2048)
</code></pre>
<p>This example shows how to use a QonsciousCallable to wrap a python function that logs the score of the CHSH test (a merit test).</p>
<pre><code class="language-Python">from qiskit_ibm_runtime.fake_provider import FakeKawasaki

from qonscious.actions import QonsciousCallable
from qonscious.adapters import IBMSamplerAdapter
from qonscious.checks import MeritComplianceCheck
from qonscious.foms import PackedCHSHTest

adapter = IBMSamplerAdapter(FakeKawasaki())

chsh_compliance = MeritComplianceCheck(
    figure_of_merit=PackedCHSHTest(),
    decision_function=lambda chsh_result: chsh_result is not None and
        chsh_result[&quot;properties&quot;][&quot;score&quot;] &gt; 2.7,
)

chsg_result = chsh_compliance.check(adapter)[&quot;fom_result&quot;]

def log_chsh_score(backend_adapter, figureOfMeritResults):
    firstFoMResult = figureOfMeritResults[0]
    print(f&quot;CHSH Score: {firstFoMResult['properties']['score']:.3f}&quot;)
    return None

q_callable = QonsciousCallable(log_chsh_score)
q_callable.run(adapter,[chsg_result])
</code></pre>
<p>That last example looks a bit cumbersome. Luckily, we use actions via the run_conditionally function. </p>
<p>So, if we put all of that together, we get:</p>
<pre><code class="language-Python">from qiskit_ibm_runtime.fake_provider import FakeKawasaki

from qonscious import run_conditionally
from qonscious.actions import QonsciousCallable
from qonscious.adapters import IBMSamplerAdapter
from qonscious.checks import MeritComplianceCheck
from qonscious.foms import PackedCHSHTest

# Prepare our backend adapter
adapter = IBMSamplerAdapter(FakeKawasaki())

# Prepare our check - CHSH score over 2.7
chsh_compliance = MeritComplianceCheck(
    figure_of_merit=PackedCHSHTest(),
    decision_function=lambda chsh_result: chsh_result is not None and
        chsh_result[&quot;properties&quot;][&quot;score&quot;] &gt; 2.7,
)

# Prepare our action for the case CHSH is over 2.7 (A Bell pair)
phi_plus = QuantumCircuit(2)
phi_plus.h(0)
phi_plus.cx(0, 1)
phi_plus.measure_all()
pass_action = QonsciousCircuit(phi_plus)

# Prepare our action for the case CHSH in under 2.7 (report the score)
def log_chsh_score(backend_adapter, figureOfMeritResults):
    firstFoMResult = figureOfMeritResults[0]
    print(f&quot;CHSH score was too low: {firstFoMResult['properties']['score']:.3f}&quot;)
    return None
fail_action = QonsciousCallable(log_chsh_score)

# Run either one of the actions conditionally on the CHSH figure of merit of our backend
q_result = run_conditionally(adapter, [chsh_compliance], pass_action, fail_action)

print(q_result)
</code></pre>


<div class="doc doc-object doc-module">




    <div class="doc doc-contents first">










  <div class="doc doc-children">









<div class="doc doc-object doc-class">



<h3 id="qonscious.actions.qonscious_circuit.QonsciousCircuit" class="doc doc-heading">
            <code>QonsciousCircuit</code>


</h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="qonscious.actions.qonscious_action.QonsciousAction">QonsciousAction</span></code></p>


        <p>A Quantum circuit wrapped as as QonsciousAction</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="qonscious.actions.qonscious_circuit.QonsciousCircuit.circuit">circuit</span></code></td>
            <td>
                  <code><span title="qiskit.QuantumCircuit">QuantumCircuit</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the quantum circuit to run</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>








              <details class="quote">
                <summary>Source code in <code>src/qonscious/actions/qonscious_circuit.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">QonsciousCircuit</span><span class="p">(</span><span class="n">QonsciousAction</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A Quantum circuit wrapped as as QonsciousAction</span>

<span class="sd">    Attributes:</span>
<span class="sd">        circuit (QuantumCircuit): the quantum circuit to run</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">circuit</span><span class="p">:</span> <span class="n">QuantumCircuit</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">circuit</span> <span class="o">=</span> <span class="n">circuit</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">run</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">backend_adapter</span><span class="p">:</span> <span class="n">BackendAdapter</span><span class="p">,</span> <span class="n">fom_results</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">FigureOfMeritResult</span><span class="p">],</span> <span class="o">**</span><span class="n">kwargs</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ExperimentResult</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">backend_adapter</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">circuit</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">




    <div class="doc doc-contents first">










  <div class="doc doc-children">









<div class="doc doc-object doc-class">



<h3 id="qonscious.actions.qonscious_callable.QonsciousCallable" class="doc doc-heading">
            <code>QonsciousCallable</code>


</h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="qonscious.actions.qonscious_action.QonsciousAction">QonsciousAction</span></code></p>


        <p>A callable wraped as QonsciousAction</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="qonscious.actions.qonscious_callable.QonsciousCallable.callable">callable</span></code></td>
            <td>
                  <code> Callable[[BackendAdapter, list[FigureOfMeritResult]], ExperimentResult | None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the callable to execute</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>








              <details class="quote">
                <summary>Source code in <code>src/qonscious/actions/qonscious_callable.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">QonsciousCallable</span><span class="p">(</span><span class="n">QonsciousAction</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A callable wraped as QonsciousAction</span>

<span class="sd">    Attributes:</span>
<span class="sd">        callable ( Callable[[BackendAdapter, list[FigureOfMeritResult]], ExperimentResult | None]):</span>
<span class="sd">            the callable to execute</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="nb">callable</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">BackendAdapter</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="n">FigureOfMeritResult</span><span class="p">]],</span> <span class="n">ExperimentResult</span> <span class="o">|</span> <span class="kc">None</span><span class="p">],</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">callable</span> <span class="o">=</span> <span class="nb">callable</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">run</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">backend_adapter</span><span class="p">:</span> <span class="n">BackendAdapter</span><span class="p">,</span> <span class="n">fom_results</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">FigureOfMeritResult</span><span class="p">],</span> <span class="o">**</span><span class="n">kwargs</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ExperimentResult</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">callable</span><span class="p">(</span><span class="n">backend_adapter</span><span class="p">,</span> <span class="n">fom_results</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">




    <div class="doc doc-contents first">










  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="qonscious.run_conditionally.run_conditionally" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">run_conditionally</span><span class="p">(</span><span class="n">backend_adapter</span><span class="p">,</span> <span class="n">checks</span><span class="p">,</span> <span class="n">on_pass</span><span class="p">,</span> <span class="n">on_fail</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Main entry point of the Qonscious framework.</p>
<p>Evaluates a set of merit compliance checks on the given backend
and executes the appropriate action depending on whether all
checks pass or any check fails.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>backend_adapter</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="BackendAdapter (qonscious.adapters.backend_adapter.BackendAdapter)" href="#qonscious.adapters.backend_adapter.BackendAdapter">BackendAdapter</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Adapter to the quantum backend on which figures of merit
are evaluated and circuits may be executed.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>checks</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<a class="autorefs autorefs-internal" title="MeritComplianceCheck (qonscious.checks.merit_compliance_check.MeritComplianceCheck)" href="#qonscious.checks.merit_compliance_check.MeritComplianceCheck">MeritComplianceCheck</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The merit compliance checks to perform on the backend.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>on_pass</code>
            </td>
            <td>
                  <code><span title="qonscious.actions.qonscious_action.QonsciousAction">QonsciousAction</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Action to execute if all checks succeed. Must implement
<code>run(backend_adapter, fom_results, **kwargs)</code> and return an <code>ExperimentResult</code> or <code>None</code>.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>on_fail</code>
            </td>
            <td>
                  <code><span title="qonscious.actions.qonscious_action.QonsciousAction">QonsciousAction</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Action to execute if any check fails. Same contract as <code>on_pass</code>.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>**kwargs</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional keyword arguments forwarded to the checks and actions.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>QonsciousResult</code></td>            <td>
                  <code><span title="qonscious.results.result_types.QonsciousResult">QonsciousResult</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A result object containing the list of figure-of-merit results
and, if applicable, the experiment result produced by the action.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/qonscious/run_conditionally.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">run_conditionally</span><span class="p">(</span>
    <span class="n">backend_adapter</span><span class="p">:</span> <span class="n">BackendAdapter</span><span class="p">,</span>
    <span class="n">checks</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">MeritComplianceCheck</span><span class="p">],</span>
    <span class="n">on_pass</span><span class="p">:</span> <span class="n">QonsciousAction</span><span class="p">,</span>
    <span class="n">on_fail</span><span class="p">:</span> <span class="n">QonsciousAction</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">QonsciousResult</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Main entry point of the Qonscious framework.</span>

<span class="sd">    Evaluates a set of merit compliance checks on the given backend</span>
<span class="sd">    and executes the appropriate action depending on whether all</span>
<span class="sd">    checks pass or any check fails.</span>

<span class="sd">    Args:</span>
<span class="sd">        backend_adapter BackendAdapter : Adapter to the quantum backend on which figures of merit</span>
<span class="sd">            are evaluated and circuits may be executed.</span>
<span class="sd">        checks list[MeritComplianceCheck] : The merit compliance checks to perform on the backend.</span>
<span class="sd">        on_pass QonsciousAction :  Action to execute if all checks succeed. Must implement</span>
<span class="sd">            `run(backend_adapter, fom_results, **kwargs)` and return an `ExperimentResult` or `None`.</span>
<span class="sd">        on_fail QonsciousAction : Action to execute if any check fails. Same contract as `on_pass`.</span>
<span class="sd">        **kwargs : Additional keyword arguments forwarded to the checks and actions.</span>

<span class="sd">    Returns:</span>
<span class="sd">        QonsciousResult : A result object containing the list of figure-of-merit results</span>
<span class="sd">            and, if applicable, the experiment result produced by the action.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">fom_results</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">FigureOfMeritResult</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">passed</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">for</span> <span class="n">check</span> <span class="ow">in</span> <span class="n">checks</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">check</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">backend_adapter</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">fom_results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="s2">&quot;fom_result&quot;</span><span class="p">])</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">result</span><span class="p">[</span><span class="s2">&quot;passed&quot;</span><span class="p">]:</span>
            <span class="n">passed</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">if</span> <span class="n">passed</span><span class="p">:</span>
        <span class="n">run_result</span> <span class="o">=</span> <span class="n">on_pass</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">backend_adapter</span><span class="p">,</span> <span class="n">fom_results</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">run_result</span> <span class="o">=</span> <span class="n">on_fail</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">backend_adapter</span><span class="p">,</span> <span class="n">fom_results</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;condition&quot;</span><span class="p">:</span> <span class="s2">&quot;pass&quot;</span> <span class="k">if</span> <span class="n">passed</span> <span class="k">else</span> <span class="s2">&quot;fail&quot;</span><span class="p">,</span>
        <span class="s2">&quot;figures_of_merit_results&quot;</span><span class="p">:</span> <span class="n">fom_results</span><span class="p">,</span>
        <span class="s2">&quot;experiment_result&quot;</span><span class="p">:</span> <span class="n">run_result</span><span class="p">,</span>
    <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.92b07e13.min.js"></script>
      
    
  </body>
</html>